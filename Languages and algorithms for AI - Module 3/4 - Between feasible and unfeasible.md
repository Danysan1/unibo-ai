# Between feasible and unfeasible

This is another key concept: we want to look at what happens between the feasible and unfeasible. We labeled them by their presence inside P (the good ones), or their absence (the bad ones). These are non-trivial classes, but what happens inbetween?

P is the embodyment of tractable (i.e. feasible) problems, while EXP (containing the whole P) contains problem that cannot be solved in polynomial time too.
So, what we're looking for are classes of an hypothetical A:
<p align="center"><img src="svgs/15833fb1e8168ab70005717e60b6482c.svg?invert_in_darkmode" align=middle width=110.68422089999999pt height=13.513684799999998pt/></p>
Is there anything interesting in this *grey land* of problems which are known not to be in P, but trivially in EXP? We'll discover that there's a lot to be done, and a lot of interesting properties to be discovered. Many of the problems we see in AI are in this class. 

## The NP Class

The first concept is the **dicotomy between creating and verifying**.
Very often, the language we'd like to classify can be written as follows:
<p align="center"><img src="svgs/4e7c4bca127939c72aa1398a2ec77374.svg?invert_in_darkmode" align=middle width=333.2067189pt height=29.58934275pt/></p>
The language <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/> is the language of all strings for which there exists a certificate y such that <img src="svgs/7392a8cd69b275fa1798ef94c839d2e0.svg?invert_in_darkmode" align=middle width=38.135511149999985pt height=24.65753399999998pt/>, seen as a pair, lies in a set of pairs of <img src="svgs/53d147e7f3fe6e47ee05b88b166bd3f6.svg?invert_in_darkmode" align=middle width=12.32879834999999pt height=22.465723500000017pt/>.
If we want to conclude that <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/> is in <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/>, we characterize it by another language A (which is a set of pairs of strings), using a certificate <img src="svgs/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode" align=middle width=8.649225749999989pt height=14.15524440000002pt/> (which exists).
The other crucial part is <img src="svgs/2ec6e630f199f589a2402fdf3e0289d5.svg?invert_in_darkmode" align=middle width=8.270567249999992pt height=14.15524440000002pt/>, which is a polynomial function.
The certificate which certifies the presence of <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/> in <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/> must be sufficiently.
Think about <img src="svgs/53d147e7f3fe6e47ee05b88b166bd3f6.svg?invert_in_darkmode" align=middle width=12.32879834999999pt height=22.465723500000017pt/> as a **test** about the fact that <img src="svgs/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode" align=middle width=8.649225749999989pt height=14.15524440000002pt/> is an appropriate certificate for <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/>. Sometimes this language <img src="svgs/53d147e7f3fe6e47ee05b88b166bd3f6.svg?invert_in_darkmode" align=middle width=12.32879834999999pt height=22.465723500000017pt/> is itself decidable in polynomial time.
Does this imply that <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/> itself is decidable in polynomial time?

The point is that one way of checking whether <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/> is in <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/> is looking for certificates. If we find a certificate the problem is solved!
If we cannot find a certificate which satisfies the test, and if we check **all certificates** we can say that <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/> is not in <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/>.
The point is there's too many certificates: the strings of length <img src="svgs/55a049b8f161ae7cfeb0197d75aff967.svg?invert_in_darkmode" align=middle width=9.86687624999999pt height=14.15524440000002pt/> are exponentially many. Checking all of them is too expensive. Not necessarily, given <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/>, we can check all possible <img src="svgs/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode" align=middle width=8.649225749999989pt height=14.15524440000002pt/> (smaller than <img src="svgs/c9ea84eb1460d2895e0cf5125bd7f7b5.svg?invert_in_darkmode" align=middle width=30.450987599999987pt height=24.65753399999998pt/>). This is not the only way though. We could follow alternative rules.

There is a dicotomy between crafting a solution for the problem, and checking a candidate solution to be an actual solution. Finding <img src="svgs/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode" align=middle width=8.649225749999989pt height=14.15524440000002pt/> could be much more difficult than checking if <img src="svgs/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode" align=middle width=8.649225749999989pt height=14.15524440000002pt/> is a solution. Looking for the appropriate certificates cannot be done in polynomial time. Checking is easier. Crafting requires some sort of *creativity*, which algorithms generally do not have. 

### Modern definition of NP

And that's it. The complexity class **NP** can be defined as the set of all languages L for which there exists a polynomial <img src="svgs/2ec6e630f199f589a2402fdf3e0289d5.svg?invert_in_darkmode" align=middle width=8.270567249999992pt height=14.15524440000002pt/> and a polynomial time TM <img src="svgs/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode" align=middle width=17.73973739999999pt height=22.465723500000017pt/> such that
<p align="center"><img src="svgs/56ff8c1d882de45f8a37ccc92b855c9b.svg?invert_in_darkmode" align=middle width=366.306105pt height=29.58934275pt/></p>
We want M to return 1 when fed with the pair <img src="svgs/7392a8cd69b275fa1798ef94c839d2e0.svg?invert_in_darkmode" align=middle width=38.135511149999985pt height=24.65753399999998pt/>. NP is the class of languages for which **checking certificates** can be checked in polynomial time. This doesn't mean that we can find a solution in polynomial time, rather check certificates. 

So, M can be said **verifier** for <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/>. The class NP does not have a natural **counterpart**. It is a class of languages, and it's important for the definition that <img src="svgs/47291815667dfe5994c54805102e144b.svg?invert_in_darkmode" align=middle width=11.337943649999989pt height=22.465723500000017pt/> is a language. Otherwise, it's not so easy to think about it as a generalization.

A **theorem** on which we will spend some time is the following: NP is one example of a class which is between P and EXP:
<p align="center"><img src="svgs/6b7046b818dc387e6f0cc14d5a121c54.svg?invert_in_darkmode" align=middle width=124.10881394999998pt height=13.513684799999998pt/></p>

Examples of <img src="svgs/243c22a26babfbd16110b02968605063.svg?invert_in_darkmode" align=middle width=27.716759399999994pt height=22.55708729999998pt/> languages include *Maximum Independent Set*, *Subset Sum*, *Composite Numbers* (actually in <img src="svgs/384591906555413c452c93e493b2d4ec.svg?invert_in_darkmode" align=middle width=12.92230829999999pt height=22.55708729999998pt/>), *Factoring*, *Decisional Linear Programming* (actually in <img src="svgs/384591906555413c452c93e493b2d4ec.svg?invert_in_darkmode" align=middle width=12.92230829999999pt height=22.55708729999998pt/>), *Decisional 0/1 Linear Programming*.

### Original definition of NP

The class <img src="svgs/243c22a26babfbd16110b02968605063.svg?invert_in_darkmode" align=middle width=27.716759399999994pt height=22.55708729999998pt/> can also be defined using a variant of Turing machines, called the NonDeterministic Turing Machines or NDTM (this is the original definition and is the reason for the <img src="svgs/bccab73005d96290c8ef588703533a21.svg?invert_in_darkmode" align=middle width=14.794451099999991pt height=22.55708729999998pt/> in <img src="svgs/243c22a26babfbd16110b02968605063.svg?invert_in_darkmode" align=middle width=27.716759399999994pt height=22.55708729999998pt/>: non-deterministic).
A NDTM has and additional state <img src="svgs/c127078f8a1d831780e5ff20527ebc97.svg?invert_in_darkmode" align=middle width=44.197187099999994pt height=14.15524440000002pt/> and two transition functions <img src="svgs/154a8763eb0cadfcb320a4fe139b6ec2.svg?invert_in_darkmode" align=middle width=13.858486949999989pt height=22.831056599999986pt/> and <img src="svgs/05c0545df5a118015e87a57e968327bf.svg?invert_in_darkmode" align=middle width=13.858486949999989pt height=22.831056599999986pt/> instead of one and at each step one of them is chosen non-deterministically (currently only theoretical, not implementable).

We say that a NDTM <img src="svgs/b5eaea000e06d5cf2e882f8fdbc71e36.svg?invert_in_darkmode" align=middle width=19.740822749999992pt height=22.465723500000017pt/> accepts an input <img src="svgs/d3017d4becb3ab5e77fa9fe6a279ed7c.svg?invert_in_darkmode" align=middle width=76.40404199999999pt height=24.65753399999998pt/> iff a possible evolution of <img src="svgs/b5eaea000e06d5cf2e882f8fdbc71e36.svg?invert_in_darkmode" align=middle width=19.740822749999992pt height=22.465723500000017pt/> with input <img src="svgs/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode" align=middle width=9.39498779999999pt height=14.15524440000002pt/> which reaches <img src="svgs/c127078f8a1d831780e5ff20527ebc97.svg?invert_in_darkmode" align=middle width=44.197187099999994pt height=14.15524440000002pt/>.

<img src="svgs/b5eaea000e06d5cf2e882f8fdbc71e36.svg?invert_in_darkmode" align=middle width=19.740822749999992pt height=22.465723500000017pt/> runs in time <img src="svgs/17726fa8b5401d1429efa4fd9faad060.svg?invert_in_darkmode" align=middle width=74.90269049999998pt height=22.648391699999998pt/> iff for every <img src="svgs/d3017d4becb3ab5e77fa9fe6a279ed7c.svg?invert_in_darkmode" align=middle width=76.40404199999999pt height=24.65753399999998pt/> and for every possible nondeterministic evolution <img src="svgs/b5eaea000e06d5cf2e882f8fdbc71e36.svg?invert_in_darkmode" align=middle width=19.740822749999992pt height=22.465723500000017pt/> reaches <img src="svgs/d8746fd75da8832672e018f29e6e103e.svg?invert_in_darkmode" align=middle width=31.354299899999987pt height=14.15524440000002pt/> or <img src="svgs/c127078f8a1d831780e5ff20527ebc97.svg?invert_in_darkmode" align=middle width=44.197187099999994pt height=14.15524440000002pt/> within <img src="svgs/12bb47b7ba3dd8f50cd2a9b0bb99f2ec.svg?invert_in_darkmode" align=middle width=65.84095154999999pt height=24.65753399999998pt/> steps with <img src="svgs/f4783f38548a88936edb864704d68288.svg?invert_in_darkmode" align=middle width=41.81686904999999pt height=21.18721440000001pt/>.

For every <img src="svgs/17726fa8b5401d1429efa4fd9faad060.svg?invert_in_darkmode" align=middle width=74.90269049999998pt height=22.648391699999998pt/> and <img src="svgs/1193f839031c92d4e8dfe44b4c99e114.svg?invert_in_darkmode" align=middle width=80.1734901pt height=24.65753399999998pt/> we say that <img src="svgs/c8d59884ac5b074adb1e59006cd760fd.svg?invert_in_darkmode" align=middle width=158.73286769999999pt height=24.65753399999998pt/> iff there is a NDTM <img src="svgs/b5eaea000e06d5cf2e882f8fdbc71e36.svg?invert_in_darkmode" align=middle width=19.740822749999992pt height=22.465723500000017pt/> working in time <img src="svgs/2f118ee06d05f3c2d98361d9c30e38ce.svg?invert_in_darkmode" align=middle width=11.889314249999991pt height=22.465723500000017pt/> such that <img src="svgs/116611362f6f419054db1dd0f622292e.svg?invert_in_darkmode" align=middle width=72.05808389999999pt height=24.65753399999998pt/> iff <img src="svgs/9e8d0c2724191a046bb7b49e0d651686.svg?invert_in_darkmode" align=middle width=40.82406899999999pt height=22.465723500000017pt/>.

<p align="center"><img src="svgs/a66c344b35e850f296d19c6c14ef4985.svg?invert_in_darkmode" align=middle width=193.78437044999998pt height=16.438356pt/></p>

